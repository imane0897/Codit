<!DOCTYPE html>
<html>

<head>
  <!-- Standard Meta -->
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

  <!-- Site Properties -->
  <title>Problems-Codit</title>
  <link rel="stylesheet" type="text/css" href="semantic/dist/components/reset.css">
  <link rel="stylesheet" type="text/css" href="semantic/dist/components/site.css">
  <link rel="stylesheet" type="text/css" href="semantic/dist/components/container.css">
  <link rel="stylesheet" type="text/css" href="semantic/dist/components/grid.css">
  <link rel="stylesheet" type="text/css" href="semantic/dist/components/header.css">
  <link rel="stylesheet" type="text/css" href="semantic/dist/components/image.css">
  <link rel="stylesheet" type="text/css" href="semantic/dist/components/menu.css">
  <link rel="stylesheet" type="text/css" href="semantic/dist/components/dropdown.css">
  <link rel="stylesheet" type="text/css" href="semantic/dist/components/segment.css">
  <link rel="stylesheet" type="text/css" href="semantic/dist/components/icon.css">
  <link rel="stylesheet" type="text/css" href="semantic/dist/components/search.css">
  <link rel="stylesheet" type="text/css" href="semantic/dist/components/table.css">
  <link rel="stylesheet" type="text/css" href="semantic/dist/components/label.css">
  <link rel="stylesheet" type="text/css" href="semantic/dist/components/input.css">

  <link rel="stylesheet" type="text/css" href="assets/library/pages.css">
</head>

<body>
  <!-- Page Contents -->
  <div class="ui inverted segment">
    <div class="ui inverted menu">
      <div class="coditheader">Co<span class="d">d</span>it</div>
      <a class="item">Problems</a>
      <a class="item" href="status">Status</a>
      <a class="item">Contest</a>
      <a class="item">Discuss</a>
      <div class="item right" style="padding-left:4em">
        <div class="ui dropdown">
          <div class="text" id="username"></div>
          <i class="dropdown icon"></i>
          <div class="menu">
            <div class="item">
              <i class="user icon"></i>
              Profile
            </div>
            <div class="item">
              <i class="setting icon"></i>
              Settings
            </div>
            <div class="item">
              <i class="external icon"></i>
              <a href="logout" style="color:black">Log out</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <br>
  <br>


  <div class="ui container">
    <div class="ui search">
      <div class="ui icon input">
        <input class="prompt" placeholder="&emsp;Search" type="text">
        <i class="search icon"></i>
      </div>
    </div>
    <br>

    <table class="ui sortable table" style="text-align:center">
      <thead>
        <tr>
          <th class="sorted ascending" style="width:8%">ID</th>
          <th>Title</th>
          <th class="sorted descending" style="width:18%">Acceptance</th>
          <th class="sorted ascending" style="width:8%">Difficulty</th>
          <th class="sorted ascending" style="width:8%">State</th>
        </tr>
      </thead>
      <tbody>
        {{range .}}
        <tr>
          <td>{{.Pid}}</td>
          <td>
            <a href="/problem?pid={{.Pid}}">{{.Title}}</a>
          </td>
          <td>{{.Acceptance}}</td>
          <td>
            {{if .Level0}}
            <div class="ui green circular label">Lev. 0</div>
            {{else if .Level1}}
            <div class="ui olive circular label">Lev. 1</div>
            {{else if .Level2}}
            <div class="ui yellow circular label">Lev. 2</div>
            {{else if .Level3}}
            <div class="ui orange circular label">Lev. 3</div>
            {{else if .Level4}}
            <div class="ui red circular label">Lev. 0</div>
            {{end}}
          </td>
          <td>
            {{if .State}}
            <i class="checkmark icon"></i>
            {{end}}
          </td>
        </tr>
        {{end}}
      </tbody>
    </table>
  </div>


  <div style="margin-top:100px"></div>


  <!-- footer -->
  <div class="ui inverted vertical footer">
    <div class="ui container">
      <hr class="style-two">
      <br>
      <div class="ui stackable inverted divided equal height stackable grid">
        <div class="three wide column text-center">
          <p>Copyright &copy; 2018&ensp; Codit</p>
        </div>
        <div class="four wide column">
        </div>
        <div class="two wide column text-center">
          <p>Contact&nbsp; Us</p>
        </div>
        <div class="four wide column text-center">
          <p>Frequently&nbsp; Asked&nbsp; Questions</p>
        </div>
        <div class="three wide column text-center">
          <p>Terms&nbsp; of&nbsp; Service</p>
        </div>
      </div>
    </div>
    <br>
  </div>
</body>

<script src="assets/library/jquery.min.js"></script>
  <script src="semantic/dist/components/visibility.js"></script>
  <script src="semantic/dist/components/sidebar.js"></script>
  <script src="semantic/dist/components/transition.js"></script>
  <script src="semantic/dist/components/dropdown.js"></script>
  <script src="assets/library/tablesort.js"></script>

  <script>
    $(document)
      .ready(function () {
        $('.ui.dropdown')
          .dropdown();
        $('table').tablesort();

        var xhr = new XMLHttpRequest();
        xhr.open('GET', '/userinfo', true);
        xhr.onreadystatechange = function () {
          if (xhr.readyState === XMLHttpRequest.DONE && xhr.status === 200) {
            document.getElementById('username').insertAdjacentHTML('beforeend', xhr.responseText);
          }
        };
        xhr.send();
      });

  </script>
</html>
